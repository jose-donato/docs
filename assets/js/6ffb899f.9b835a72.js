"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[10305],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||c[m]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},41200:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const o={},i=void 0,l={unversionedId:"features/portfolio/po/blacklitterman/blacklitterman",id:"features/portfolio/po/blacklitterman/blacklitterman",title:"blacklitterman",description:"The Black-Litterman (BL) Model is an analytical tool used by portfolio managers to optimize asset allocation within an investor\u2019s risk tolerance and market views. Global investors, such as pension funds and insurance companies, need to decide how to allocate their investments across different asset classes and countries. The BL model starts from a neutral position using modern portfolio theory (MPT), and then takes additional input from investors' views to determine how the ultimate asset allocation should deviate from the initial portfolio weights. It then undergoes a process of mean-variance optimization (MVO) to maximize expected return given one's objective risk tolerance.",source:"@site/content/terminal/features/portfolio/po/blacklitterman/blacklitterman.md",sourceDirName:"features/portfolio/po/blacklitterman",slug:"/features/portfolio/po/blacklitterman/",permalink:"/docs/terminal/features/portfolio/po/blacklitterman/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/content/terminal/features/portfolio/po/blacklitterman/blacklitterman.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"add",permalink:"/docs/terminal/features/portfolio/po/add/"},next:{title:"dividend",permalink:"/docs/terminal/features/portfolio/po/dividend/"}},s={},u=[],p={toc:u};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"usage: blacklitterman [-p PERIOD] [-s START] [-e END] [-lr] [--freq {d,w,m}]\n                      [-mn MAXNAN] [-th THRESHOLD] [-mt METHOD]\n                      [-bm BENCHMARK] [-o {MinRisk,Utility,Sharpe,MaxRet}]\n                      [-pv P_VIEWS] [-qv Q_VIEWS] [-r RISK_FREE_RATE]\n                      [-ra RISK_AVERSION] [-d DELTA] [-eq] [-op] [-v VALUE]\n                      [-vs VALUE_SHORT] [--name NAME] [-h]\n")),(0,a.kt)("p",null,"The Black-Litterman (BL) Model is an analytical tool used by portfolio managers to optimize asset allocation within an investor\u2019s risk tolerance and market views. Global investors, such as pension funds and insurance companies, need to decide how to allocate their investments across different asset classes and countries. The BL model starts from a neutral position using modern portfolio theory (MPT), and then takes additional input from investors' views to determine how the ultimate asset allocation should deviate from the initial portfolio weights. It then undergoes a process of mean-variance optimization (MVO) to maximize expected return given one's objective risk tolerance."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"optional arguments:\n  -p PERIOD, --period PERIOD\n                        Period to get yfinance data from. Possible frequency\n                        strings are: 'd': means days, for example '252d' means\n                        252 days 'w': means weeks, for example '52w' means 52\n                        weeks 'mo': means months, for example '12mo' means 12\n                        months 'y': means years, for example '1y' means 1 year\n                        'ytd': downloads data from beginning of year to today\n                        'max': downloads all data available for each asset\n                        (default: 3y)\n  -s START, --start START\n                        Start date to get yfinance data from. Must be in\n                        'YYYY-MM-DD' format (default: )\n  -e END, --end END     End date to get yfinance data from. Must be in 'YYYY-\n                        MM-DD' format (default: )\n  -lr, --log-returns    If use logarithmic or arithmetic returns to calculate\n                        returns (default: False)\n  --freq {d,w,m}\n                        Frequency used to calculate returns. Possible values\n                        are: 'd': for daily returns 'w': for weekly returns\n                        'm': for monthly returns (default: d)\n  -mn MAXNAN, --maxnan MAXNAN\n                        Max percentage of nan values accepted per asset to be\n                        considered in the optimization process (default: 0.05)\n  -th THRESHOLD, --threshold THRESHOLD\n                        Value used to replace outliers that are higher to\n                        threshold in absolute value (default: 0.3)\n  -mt METHOD, --method METHOD\n                        Method used to fill nan values in time series, by\n                        default time. Possible values are: linear: linear\n                        interpolation time: linear interpolation based on time\n                        index nearest: use nearest value to replace nan values\n                        zero: spline of zeroth order slinear: spline of first\n                        order quadratic: spline of second order cubic: spline\n                        of third order barycentric: builds a polynomial that\n                        pass for all points (default: time)\n  -bm BENCHMARK, --benchmark BENCHMARK\n                        portfolio name from current portfolio list (default:\n                        None)\n  -o {MinRisk,Utility,Sharpe,MaxRet}, --objective {MinRisk,Utility,Sharpe,MaxRet}\n                        Objective function used to optimize the portfolio\n                        (default: MinRisk)\n  -pv P_VIEWS, --p-views P_VIEWS\n                        matrix P of views (default: None)\n  -qv Q_VIEWS, --q-views Q_VIEWS\n                        matrix Q of views (default: None)\n  -r RISK_FREE_RATE, --risk-free-rate RISK_FREE_RATE\n                        Risk-free rate of borrowing/lending. The period of the\n                        risk-free rate must be annual (default: 0.00329)\n  -ra RISK_AVERSION, --risk-aversion RISK_AVERSION\n                        Risk aversion parameter (default: 1.0)\n  -d DELTA, --delta DELTA\n                        Risk aversion factor of Black Litterman model\n                        (default: None)\n  -eq, --equilibrium    If True excess returns are based on equilibrium market\n                        portfolio, if False excess returns are calculated as\n                        historical returns minus risk free rate. (default:\n                        True)\n  -op, --optimize       If True Black Litterman estimates are used as inputs\n                        of mean variance model, if False returns equilibrium\n                        weights from Black Litterman model (default: True)\n  -v VALUE, --value VALUE\n                        Amount to allocate to portfolio in long positions\n                        (default: 1.0)\n  -vs VALUE_SHORT, --value-short VALUE_SHORT\n                        Amount to allocate to portfolio in short positions\n                        (default: 0.0)\n  --name NAME           Save portfolio with personalized or default name\n                        (default: BL_3)\n  -h, --help            show this help message (default: False)\n")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("p",null,"First we need to build a benchmark portfolio:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"2022 Apr 26, 01:25 (\ud83e\udd8b) /portfolio/po/ $ add AAPL,MSFT,JP,BA\n2022 Apr 26, 01:26 (\ud83e\udd8b) /portfolio/po/ $ maxsharpe\n\n [3 Years] Maximal return/risk ratio portfolio using volatility as risk measure\n\n      Weights\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503      \u2503 Value    \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 AAPL \u2502 100.00 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 BA   \u2502   0.00 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 JP   \u2502   0.00 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 MSFT \u2502   0.00 % \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nAnnual (by 252) expected return: 45.46%\nAnnual (by \u221a252) volatility: 34.16%\nSharpe ratio: 1.3209\n")),(0,a.kt)("p",null,"Then we add our views to the benchmark portfolio:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"2022 Apr 26, 01:27 (\ud83e\udd8b) /portfolio/po/ $ blacklitterman -bm maxsharpe_0 -pv 0,1,\n0,0;1,0,0,0;0,0,0,1 -qv 0.1,0.1,0.05 -o Sharpe\n\n [3 Years] Black Litterman portfolio\n\n      Weights\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503      \u2503 Value    \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 AAPL \u2502  70.30 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 BA   \u2502  18.55 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 JP   \u2502   0.01 % \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 MSFT \u2502  11.14 % \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nAnnual (by 252) expected return: 33.94%\nAnnual (by \u221a252) volatility: 32.80%\nSharpe ratio: 1.0346\n")))}c.isMDXComponent=!0}}]);